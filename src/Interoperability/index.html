<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>Elm App | Interoperability</title>
  </head>
  <body>
    <div id="app">
    </div>
    <script type="text/javascript" src="main.js"></script>
    <script type="text/javascript" src="https://www.lactame.com/lib/ml/2.0.0/ml.min.js"></script>
    <script type="text/javascript">
      // FNN
      var fnn = new ML.NN.FNN();

      // ELM
      var node = document.getElementById('app');
      var app = Elm.Interoperability.Main.embed(node);

      app.ports.sendData.subscribe(function(data){
        // Train the classifier - we give him an xor
        var features = data.training;
        var labels = data.labels;
        var testCases = data.testCases;
        console.log("Features: ", features);
        console.log("Labels: ", labels);

        fnn.train(features, labels);

        // Let's see if it is separable by testing on the training data
        var results = fnn.predict(testCases);

        app.ports.recieveData.send(results);
      });
    </script>
  </body>
</html>
